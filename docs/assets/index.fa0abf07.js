import{m as e,e as t,q as r,r as n,u as a,R as c,S as l,T as i,W as o,a as s,C as u,I as m,w as p,x as d,t as f,b as g,c as E,d as h,G as x}from"./vendor.679112f5.js";const v={error:[]},w={error:(...e)=>{v.error.push(...e),console.warn(...e)},cache:v},y=/\-|至/,b=/（单号）/,S=/（双号）/,_=/（(\d+)个）/,k=/^\d+$/,R=/、|，/,C=/(\d+\-\d+)号/;function I(e){return k.test(e)}function T(e=""){const t=[b,S].findIndex((t=>{const r=t.test(e);return e=e.replace(t,""),r}))+1;let r=0;try{r=+e.match(_)[1],e=e.replace(_,"")}catch(m){r=0}if(r)return Array(r).fill(e);if(C.test(e))return[e];if(!y.test(e))return[e];const[n,a]=e.split(y);if(I(n)&&I(a)&&+n>=+a)return[e];const c=new RegExp(a.replace(/\d+/,"(\\d+)")),[l,i]=[c.exec(n),c.exec(a)];if(!l||!i)return w.error("解析错误：",{start:n,end:a,val:e,matchReg:c}),[];const[o,s]=[+l[1],+i[1]],u=[];for(let p=o;p<=s;p++)t&&p%2!=t%2||u.push(n.replace(c,((e,t)=>e.replace(t,p+""))));return u}function j(e,t){const r=/(\d+)号/;return C.test(t)?[e,t]=[e+t.replace(C,""),C.exec(t)[1]]:r.test(t)&&([e,t]=[e+t.replace(r,""),r.exec(t)[1]]),[e=e.replace(/(\d+)组/,((e,t)=>e.replace(t,function(e){var t=["零","一","二","三","四","五","六","七","八","九"],r=["","万","亿","万亿","亿亿"],n=["","十","百","千"];function a(e){for(var r="",a="",c=0,l=!0;e>0;){var i=e%10;0===i?l||(l=!0,a=t[i]+a):(l=!1,r=t[i],a=(r+=n[c])+a),c++,e=Math.floor(e/10)}return a}var c=0,l="",i="",o=!1;if(0===e)return t[0];for(;e>0;){var s=e%1e4;o&&(i=t[0]+i),l=a(s),i=(l+=0!==s?r[c]:r[0])+i,o=s<1e3&&s>0,e=Math.floor(e/1e4),c++}return i.replace(/^一十/,"十")}(+t)))),t]}function z(e){return function(e){if("string"!=typeof e||!e)return[];e=e.trim();const[t,r]=e.split("：");return r?r.split(R).reduce(((e,t)=>[...e,...T(t)]),[]).map((e=>[t,e])):(w.error(`格式不匹配跳过：【${e}】`),[])}(e).map((([e,t])=>j(e,t)))}function F(e){localStorage.setItem("my_uid",e)}function L(){return F("")}function M(r){return e(r).toString(t)}window.___md5=M;const P=[{uid:"202cb962ac59075b964b07152d234b70",expire:1625285251e3,tip:"",remark:""},{uid:"d8bc0ddac4713bfd423cca828f5c3513"}],B=()=>{const[e,t]=n.exports.useState("");return c.createElement(l,{block:!0,direction:"vertical",spacing:"s5"},c.createElement(m,{multiline:!0,minRows:5,value:e,width:"100%",onChange:e=>t(e.target.value),placeholder:"请输入需要被解析的内容"}),c.createElement(i.Paragraph,{fontSize:"s1",color:"assistant"},"解析样例：复兴路：2-1、5；复兴村：19号、25号；新乐街：1号-165号（单号）；新乐街：2号-230号（双号）；沫江社区：33幢1号-16号、34幢1号-13号（单号）、35幢2号-8号（双号）；永丰村：1组1号、2组69号、3组1号-19号；太平社区：1-1（44个）、1-2（30个）；永丰村1组1号-41号，2组1号-69号，3组1号-42号，4组1号-38号，5组1号-53号，6组1号-70号；喻坝村1组1号至7号，2组1号至47号，3组1号至81号，4组1号至53号，5组1号至94号，6组1号至111号；临江路南段2号、4号、42号、福禄大街北段28号、30号、向阳路南段1号-65号、福兴街34号附1号-附130号、福禄大街南段27号附1号-附100号、新政街25号附1号-附100号、福兴街33号附1号-附40号；幸福路7号、幸福路62号、幸福路72号、兴贸街56号、明珠街1号、明珠街3号、明珠街34号、明珠街36号；龙泉街：1号、3号、4号、6号、7号、8号、10号、12号、14号-45号、47号、49号-87号（单号）；"),c.createElement("div",null,c.createElement(o,{type:"primary",autoLoading:!0,onClick:async()=>{await p.time(100);const t=e.trim().split("；").reduce(((e,t)=>(e.push(...z(t).map((e=>({"名称":e[0],"号码":e[1]})))),e)),[]),r=w.cache.error.map((e=>JSON.stringify(e))).join("\n");w.cache.error.length=0,t[0]&&(t[0].错误信息=r);const n=d.utils.json_to_sheet(t,{header:["名称","号码","错误信息"]}),a=d.utils.book_new();d.utils.book_append_sheet(a,n),d.writeFile(a,"out.xlsx")}},"生成 Excel")))};function D(){const[e,t]=n.exports.useState(null),r=n.exports.useRef(),p=()=>{const e=r.current.value.trim(),n=P.find((t=>t.uid===M(e)));if(!n)return f.error("序列码不存在");t(n),F(e)},d=a((()=>e&&e.expire&&e.expire<Date.now()?(f.warning("已截止有效期"),t(null),void L()):setTimeout(d,1e3)));return n.exports.useEffect((()=>{const e=P.find((e=>e.uid===M(function(){try{return(localStorage.getItem("my_uid")||"").trim()}catch(e){return""}}())));e?t(e):L()}),[]),n.exports.useEffect((()=>{const e=d();return()=>{clearTimeout(e)}}),[e]),c.createElement($,null,c.createElement(l,{direction:"vertical",spacing:"s8",block:!0},c.createElement(i.Title,null,"雷猴啊、靓仔~"),e?c.createElement(c.Fragment,null,c.createElement(l,{block:!0,direction:"vertical",spacing:"s8"},c.createElement(l,{spacing:"s6"},c.createElement(i.Paragraph,{fontSize:"s2"},"有效期至：",e.expire?new Date(e.expire).toLocaleString():"永久有效ƒ"),c.createElement(o,{size:"s",onClick:()=>{L(),t(null)}},"重置序列码")),c.createElement(B,null))):c.createElement(s,{align:"middle",gutter:10},c.createElement(u,{span:10,sm:12,xs:20},c.createElement(m,{width:"100%",placeholder:"请输入序列码",inputRef:r,maxLength:32,limit:32,onPressEnter:p})),c.createElement(u,{span:4,sm:4,xs:4},c.createElement(o,{type:"primary",onClick:p},"验证")))))}const $=r.div`
  width: 1080px;
  max-width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding: 30px;
`;g.render(c.createElement(c.StrictMode,null,c.createElement(E,{theme:h()},c.createElement(c.Fragment,null,c.createElement(x,{resetScrollBar:!0}),c.createElement(D,null)))),document.getElementById("root"));
